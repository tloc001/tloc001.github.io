import{d as _,e as v,w as g,c as r,a,b as w,f as A,n as q,h as m,g as C,v as p,u as I,o as i}from"./index-D71806xI.js";import{f}from"./CommonsFunctions-HU9KhWMu.js";import{c as P,_ as N}from"./DashBoard-Dca6KqdS.js";const S={class:"container-fluid row"},V={class:"aside col-3"},B={class:"article col-9"},T=["for"],k=["id","hidden"],D={class:"mb-3"},M=["for"],O=["id"],U=["disable"],R={key:0},$={key:1},x={key:2},H={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(c){const l=I(),t=c,d=P(t.TableName),s=_({id:"",qty:"",createdAt:"",updatedAt:""}),h=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function y(){console.log(s);try{const e=await d.update(t.id,s);console.log("Insert successful:",e.data),l.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}async function b(){console.log(s);try{const e=await d.post(s);console.log("Insert successful:",e.data),l.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}const u=async()=>{if(t.TableName)try{const e=await d.getById(t.id);e.data.createdAt=f(e.data.createdAt),e.data.updatedAt=f(e.data.updatedAt),Object.assign(s,e.data)}catch(e){console.error("Get failed:",e)}};return v(u),g(()=>t.id,u),(e,o)=>(i(),r("div",S,[a("div",V,[w(N,{listDashBoard:h})]),a("div",B,[a("form",{onSubmit:o[2]||(o[2]=A(n=>t.action==="create"?b():y(),["prevent"]))},[a("div",{class:"mb-3",style:q(t.action==="view"||t.action==="create"?" display:none;":"")},[a("label",{for:c.id,class:"form-label text-capitalize"},null,8,T),t.action!=="create"?m((i(),r("input",{key:0,id:c.id,"onUpdate:modelValue":o[0]||(o[0]=n=>s.id=n),hidden:t.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,k)),[[p,s.id]]):C("",!0)],4),a("div",D,[a("label",{for:e.qty,class:"form-label text-capitalize"},"qty",8,M),m(a("input",{id:e.qty,"onUpdate:modelValue":o[1]||(o[1]=n=>s.qty=n),type:"number",class:"form-control",placeholder:"Enter qty"},null,8,O),[[p,s.qty]])]),a("button",{type:"submit",disable:t.action=="view",class:"btn btn-primary"},[t.action==="create"?(i(),r("span",R,"Create")):t.action==="create"?(i(),r("span",$,"Create")):(i(),r("span",x,"Update"))],8,U)],32)])]))}};export{H as default};
