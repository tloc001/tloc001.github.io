import{d as y,e as g,w as v,c as r,a as s,b as w,f as A,n as C,h as d,g as I,v as c,u as P,o as n}from"./index-D71806xI.js";import{f}from"./CommonsFunctions-HU9KhWMu.js";import{c as V,_ as H}from"./DashBoard-Dca6KqdS.js";const N={class:"container-fluid row"},S={class:"aside col-3"},B={class:"article col-9"},T=["for"],U=["id","hidden"],k={class:"mb-3"},D=["for"],z=["id"],E={class:"mb-3"},M=["for"],O=["id"],x={class:"mb-3"},R=["for"],$=["id"],q=["disable"],F={key:0},j={key:1},G={key:2},Q={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(l){const u=P(),t=l,m=V(t.TableName),o=y({id:"",image:"",isHome:"",description:"",createdAt:"",updatedAt:""}),h=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function b(){console.log(o);try{const e=await m.update(t.id,o);console.log("Insert successful:",e.data),u.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}async function _(){console.log(o);try{const e=await m.post(o);console.log("Insert successful:",e.data),u.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}const p=async()=>{if(t.TableName)try{const e=await m.getById(t.id);e.data.createdAt=f(e.data.createdAt),e.data.updatedAt=f(e.data.updatedAt),Object.assign(o,e.data)}catch(e){console.error("Get failed:",e)}};return g(p),v(()=>t.id,p),(e,a)=>(n(),r("div",N,[s("div",S,[w(H,{listDashBoard:h})]),s("div",B,[s("form",{onSubmit:a[4]||(a[4]=A(i=>t.action==="create"?_():b(),["prevent"]))},[s("div",{class:"mb-3",style:C(t.action==="view"||t.action==="create"?" display:none;":"")},[s("label",{for:l.id,class:"form-label text-capitalize"},null,8,T),t.action!=="create"?d((n(),r("input",{key:0,id:l.id,"onUpdate:modelValue":a[0]||(a[0]=i=>o.id=i),hidden:t.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,U)),[[c,o.id]]):I("",!0)],4),s("div",k,[s("label",{for:e.image,class:"form-label text-capitalize"},"image",8,D),d(s("input",{id:e.image,"onUpdate:modelValue":a[1]||(a[1]=i=>o.image=i),type:"text",class:"form-control",placeholder:"Enter image"},null,8,z),[[c,o.image]])]),s("div",E,[s("label",{for:e.isHome,class:"form-label text-capitalize"},"isHome",8,M),d(s("input",{id:e.isHome,"onUpdate:modelValue":a[2]||(a[2]=i=>o.isHome=i),type:"text",class:"form-control",placeholder:"Enter isHome"},null,8,O),[[c,o.isHome]])]),s("div",x,[s("label",{for:e.description,class:"form-label text-capitalize"},"description",8,R),d(s("input",{id:e.description,"onUpdate:modelValue":a[3]||(a[3]=i=>o.description=i),type:"text",class:"form-control",placeholder:"Enter description"},null,8,$),[[c,o.description]])]),s("button",{type:"submit",disable:t.action=="view",class:"btn btn-primary"},[t.action==="create"?(n(),r("span",F,"Create")):t.action==="create"?(n(),r("span",j,"Create")):(n(),r("span",G,"Update"))],8,q)],32)])]))}};export{Q as default};
