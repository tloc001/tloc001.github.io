import{d as _,e as v,w as C,c as i,a as o,b as g,f as w,n as A,h as l,g as q,v as d,u as I,o as n}from"./index-D71806xI.js";import{f}from"./CommonsFunctions-HU9KhWMu.js";import{c as P,_ as V}from"./DashBoard-Dca6KqdS.js";const N={class:"container-fluid row"},S={class:"aside col-3"},B={class:"article col-9"},T=["for"],U=["id","hidden"],k={class:"mb-3"},D=["for"],z=["id"],E={class:"mb-3"},M=["for"],O=["id"],R={class:"mb-3"},$=["for"],F=["id"],H=["disable"],j={key:0},x={key:1},G={key:2},Q={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(c){const m=I(),e=c,u=P(e.TableName),s=_({id:"",qty:"",cost:"",totalCost:"",createdAt:"",updatedAt:""}),b=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function h(){console.log(s);try{const t=await u.update(e.id,s);console.log("Insert successful:",t.data),m.push(`/Admin/${e.TableName}`)}catch(t){console.error("Insert failed:",t)}}async function y(){console.log(s);try{const t=await u.post(s);console.log("Insert successful:",t.data),m.push(`/Admin/${e.TableName}`)}catch(t){console.error("Insert failed:",t)}}const p=async()=>{if(e.TableName)try{const t=await u.getById(e.id);t.data.createdAt=f(t.data.createdAt),t.data.updatedAt=f(t.data.updatedAt),Object.assign(s,t.data)}catch(t){console.error("Get failed:",t)}};return v(p),C(()=>e.id,p),(t,a)=>(n(),i("div",N,[o("div",S,[g(V,{listDashBoard:b})]),o("div",B,[o("form",{onSubmit:a[4]||(a[4]=w(r=>e.action==="create"?y():h(),["prevent"]))},[o("div",{class:"mb-3",style:A(e.action==="view"||e.action==="create"?" display:none;":"")},[o("label",{for:c.id,class:"form-label text-capitalize"},null,8,T),e.action!=="create"?l((n(),i("input",{key:0,id:c.id,"onUpdate:modelValue":a[0]||(a[0]=r=>s.id=r),hidden:e.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,U)),[[d,s.id]]):q("",!0)],4),o("div",k,[o("label",{for:t.qty,class:"form-label text-capitalize"},"qty",8,D),l(o("input",{id:t.qty,"onUpdate:modelValue":a[1]||(a[1]=r=>s.qty=r),type:"number",class:"form-control",placeholder:"Enter qty"},null,8,z),[[d,s.qty]])]),o("div",E,[o("label",{for:t.cost,class:"form-label text-capitalize"},"cost",8,M),l(o("input",{id:t.cost,"onUpdate:modelValue":a[2]||(a[2]=r=>s.cost=r),type:"number",class:"form-control",placeholder:"Enter cost"},null,8,O),[[d,s.cost]])]),o("div",R,[o("label",{for:t.totalCost,class:"form-label text-capitalize"},"totalCost",8,$),l(o("input",{id:t.totalCost,"onUpdate:modelValue":a[3]||(a[3]=r=>s.totalCost=r),type:"number",class:"form-control",placeholder:"Enter totalCost"},null,8,F),[[d,s.totalCost]])]),o("button",{type:"submit",disable:e.action=="view",class:"btn btn-primary"},[e.action==="create"?(n(),i("span",j,"Create")):e.action==="create"?(n(),i("span",x,"Create")):(n(),i("span",G,"Update"))],8,H)],32)])]))}};export{Q as default};
