import{d as _,e as g,w as v,c as i,a as s,b as S,f as k,n as w,h as l,g as A,v as u,u as C,o as n}from"./index-D71806xI.js";import{f}from"./CommonsFunctions-HU9KhWMu.js";import{c as I,_ as P}from"./DashBoard-Dca6KqdS.js";const N={class:"container-fluid row"},V={class:"aside col-3"},B={class:"article col-9"},T=["for"],D=["id","hidden"],U={class:"mb-3"},M=["for"],O=["id"],x={class:"mb-3"},z=["for"],E=["id"],R=["disable"],$={key:0},q={key:1},F={key:2},J={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(d){const m=C(),t=d,c=I(t.TableName),o=_({id:"",signalSku:"",description:"",createdAt:"",updatedAt:""}),h=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function b(){console.log(o);try{const e=await c.update(t.id,o);console.log("Insert successful:",e.data),m.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}async function y(){console.log(o);try{const e=await c.post(o);console.log("Insert successful:",e.data),m.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}const p=async()=>{if(t.TableName)try{const e=await c.getById(t.id);e.data.createdAt=f(e.data.createdAt),e.data.updatedAt=f(e.data.updatedAt),Object.assign(o,e.data)}catch(e){console.error("Get failed:",e)}};return g(p),v(()=>t.id,p),(e,a)=>(n(),i("div",N,[s("div",V,[S(P,{listDashBoard:h})]),s("div",B,[s("form",{onSubmit:a[3]||(a[3]=k(r=>t.action==="create"?y():b(),["prevent"]))},[s("div",{class:"mb-3",style:w(t.action==="view"||t.action==="create"?" display:none;":"")},[s("label",{for:d.id,class:"form-label text-capitalize"},null,8,T),t.action!=="create"?l((n(),i("input",{key:0,id:d.id,"onUpdate:modelValue":a[0]||(a[0]=r=>o.id=r),hidden:t.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,D)),[[u,o.id]]):A("",!0)],4),s("div",U,[s("label",{for:e.signalSku,class:"form-label text-capitalize"},"signalSku",8,M),l(s("input",{id:e.signalSku,"onUpdate:modelValue":a[1]||(a[1]=r=>o.signalSku=r),type:"text",class:"form-control",placeholder:"Enter signalSku"},null,8,O),[[u,o.signalSku]])]),s("div",x,[s("label",{for:e.description,class:"form-label text-capitalize"},"description",8,z),l(s("input",{id:e.description,"onUpdate:modelValue":a[2]||(a[2]=r=>o.description=r),type:"text",class:"form-control",placeholder:"Enter description"},null,8,E),[[u,o.description]])]),s("button",{type:"submit",disable:t.action=="view",class:"btn btn-primary"},[t.action==="create"?(n(),i("span",$,"Create")):t.action==="create"?(n(),i("span",q,"Create")):(n(),i("span",F,"Update"))],8,R)],32)])]))}};export{J as default};
