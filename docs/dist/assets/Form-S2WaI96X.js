import{d as g,e as w,w as V,c as i,a as e,b as f,f as O,g as b,n as P,h as r,v as n,u as S,o as d}from"./index-D71806xI.js";import{f as h}from"./CommonsFunctions-HU9KhWMu.js";import{c as U,_ as k}from"./DashBoard-Dca6KqdS.js";import A from"./ImageUpload-DSQCAyjz.js";const z={class:"container-fluid row"},E={class:"aside col-3"},I={class:"article col-9"},R=["for"],C=["id","hidden"],N={class:"mb-3"},B=["for"],T=["id"],D={class:"mb-3"},M=["for"],$=["id"],q={class:"mb-3"},F=["for"],H=["id"],j={key:0,class:"mb-3"},G=["src"],x={class:"mb-3"},J=["for"],K=["id"],L={class:"mb-3"},Q=["for"],W=["id"],X={class:"mb-3"},Y=["for"],Z=["id"],ee={class:"mb-3"},te=["for"],oe=["id"],ae={class:"mb-3"},se=["for"],le=["id"],re={class:"mb-3"},ne=["for"],ie=["id"],de=["disable"],ce={key:0},me={key:1},pe={key:2},ye={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(c){const p=S(),l=c,m=U(l.TableName),o=g({id:"",email:"",password:"",fullname:"",avatar:"",phone:"",averageOrderValue:"",userRank:"",totalSpent:"",totalOrder:"",loyaltyPoint:"",createdAt:"",updatedAt:""}),y=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function v(){console.log(o);try{const t=await m.update(l.id,o);console.log("Insert successful:",t.data),p.push(`/Admin/${l.TableName}`)}catch(t){console.error("Insert failed:",t)}}async function _(){console.log(o);try{const t=await m.post(o);console.log("Insert successful:",t.data),p.push(`/Admin/${l.TableName}`)}catch(t){console.error("Insert failed:",t)}}const u=async()=>{if(l.TableName)try{const t=await m.getById(l.id);t.data.createdAt=h(t.data.createdAt),t.data.updatedAt=h(t.data.updatedAt),Object.assign(o,t.data)}catch(t){console.error("Get failed:",t)}};return w(u),V(()=>l.id,u),(t,a)=>(d(),i("div",z,[e("div",E,[f(k,{listDashBoard:y})]),e("div",I,[e("form",{onSubmit:a[11]||(a[11]=O(s=>l.action==="create"?_():v(),["prevent"]))},[e("div",{class:"mb-3",style:P(l.action==="view"||l.action==="create"?" display:none;":"")},[e("label",{for:c.id,class:"form-label text-capitalize"},null,8,R),l.action!=="create"?r((d(),i("input",{key:0,id:c.id,"onUpdate:modelValue":a[0]||(a[0]=s=>o.id=s),hidden:l.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,C)),[[n,o.id]]):b("",!0)],4),e("div",N,[e("label",{for:t.email,class:"form-label text-capitalize"},"email",8,B),r(e("input",{id:t.email,"onUpdate:modelValue":a[1]||(a[1]=s=>o.email=s),type:"email",class:"form-control",placeholder:"Enter email"},null,8,T),[[n,o.email]])]),e("div",D,[e("label",{for:t.password,class:"form-label text-capitalize"},"password",8,M),r(e("input",{id:t.password,"onUpdate:modelValue":a[2]||(a[2]=s=>o.password=s),type:"password",class:"form-control",placeholder:"Enter password"},null,8,$),[[n,o.password]])]),e("div",q,[e("label",{for:t.fullname,class:"form-label text-capitalize"},"fullname",8,F),r(e("input",{id:t.fullname,"onUpdate:modelValue":a[3]||(a[3]=s=>o.fullname=s),type:"text",class:"form-control",placeholder:"Enter fullname"},null,8,H),[[n,o.fullname]])]),f(A,{onUpdateAvatar:a[4]||(a[4]=s=>o.avatar=s)}),o.avatar?(d(),i("div",j,[a[12]||(a[12]=e("label",{class:"form-label"},"Preview Avatar:",-1)),e("img",{src:o.avatar,alt:"Avatar Preview",class:"img-thumbnail",style:{"max-height":"150px"}},null,8,G)])):b("",!0),e("div",x,[e("label",{for:t.phone,class:"form-label text-capitalize"},"phone",8,J),r(e("input",{id:t.phone,"onUpdate:modelValue":a[5]||(a[5]=s=>o.phone=s),type:"text",class:"form-control",placeholder:"Enter phone"},null,8,K),[[n,o.phone]])]),e("div",L,[e("label",{for:t.averageOrderValue,class:"form-label text-capitalize"},"averageOrderValue",8,Q),r(e("input",{id:t.averageOrderValue,"onUpdate:modelValue":a[6]||(a[6]=s=>o.averageOrderValue=s),type:"number",class:"form-control",placeholder:"Enter averageOrderValue"},null,8,W),[[n,o.averageOrderValue]])]),e("div",X,[e("label",{for:t.userRank,class:"form-label text-capitalize"},"userRank",8,Y),r(e("input",{id:t.userRank,"onUpdate:modelValue":a[7]||(a[7]=s=>o.userRank=s),type:"text",class:"form-control",placeholder:"Enter userRank"},null,8,Z),[[n,o.userRank]])]),e("div",ee,[e("label",{for:t.totalSpent,class:"form-label text-capitalize"},"totalSpent",8,te),r(e("input",{id:t.totalSpent,"onUpdate:modelValue":a[8]||(a[8]=s=>o.totalSpent=s),type:"number",class:"form-control",placeholder:"Enter totalSpent"},null,8,oe),[[n,o.totalSpent]])]),e("div",ae,[e("label",{for:t.totalOrder,class:"form-label text-capitalize"},"totalOrder",8,se),r(e("input",{id:t.totalOrder,"onUpdate:modelValue":a[9]||(a[9]=s=>o.totalOrder=s),type:"number",class:"form-control",placeholder:"Enter totalOrder"},null,8,le),[[n,o.totalOrder]])]),e("div",re,[e("label",{for:t.loyaltyPoint,class:"form-label text-capitalize"},"loyaltyPoint",8,ne),r(e("input",{id:t.loyaltyPoint,"onUpdate:modelValue":a[10]||(a[10]=s=>o.loyaltyPoint=s),type:"number",class:"form-control",placeholder:"Enter loyaltyPoint"},null,8,ie),[[n,o.loyaltyPoint]])]),e("button",{type:"submit",disable:l.action=="view",class:"btn btn-primary"},[l.action==="create"?(d(),i("span",ce,"Create")):l.action==="create"?(d(),i("span",me,"Create")):(d(),i("span",pe,"Update"))],8,de)],32)])]))}};export{ye as default};
