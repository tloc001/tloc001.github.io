import{d as y,e as v,w as P,c as i,a as s,b as g,f as w,n as A,h as d,g as C,v as l,u as I,o as n}from"./index-D71806xI.js";import{f}from"./CommonsFunctions-HU9KhWMu.js";import{c as V,_ as N}from"./DashBoard-Dca6KqdS.js";const S={class:"container-fluid row"},B={class:"aside col-3"},T={class:"article col-9"},U=["for"],k=["id","hidden"],D={class:"mb-3"},z=["for"],E=["id"],M={class:"mb-3"},O=["for"],x=["id"],R={class:"mb-3"},$=["for"],q=["id"],F=["disable"],H={key:0},j={key:1},G={key:2},Q={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(c){const m=I(),t=c,u=V(t.TableName),a=y({id:"",reason:"",isPaid:"",status:"",createdAt:"",updatedAt:""}),h=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function b(){console.log(a);try{const e=await u.update(t.id,a);console.log("Insert successful:",e.data),m.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}async function _(){console.log(a);try{const e=await u.post(a);console.log("Insert successful:",e.data),m.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}const p=async()=>{if(t.TableName)try{const e=await u.getById(t.id);e.data.createdAt=f(e.data.createdAt),e.data.updatedAt=f(e.data.updatedAt),Object.assign(a,e.data)}catch(e){console.error("Get failed:",e)}};return v(p),P(()=>t.id,p),(e,o)=>(n(),i("div",S,[s("div",B,[g(N,{listDashBoard:h})]),s("div",T,[s("form",{onSubmit:o[4]||(o[4]=w(r=>t.action==="create"?_():b(),["prevent"]))},[s("div",{class:"mb-3",style:A(t.action==="view"||t.action==="create"?" display:none;":"")},[s("label",{for:c.id,class:"form-label text-capitalize"},null,8,U),t.action!=="create"?d((n(),i("input",{key:0,id:c.id,"onUpdate:modelValue":o[0]||(o[0]=r=>a.id=r),hidden:t.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,k)),[[l,a.id]]):C("",!0)],4),s("div",D,[s("label",{for:e.reason,class:"form-label text-capitalize"},"reason",8,z),d(s("input",{id:e.reason,"onUpdate:modelValue":o[1]||(o[1]=r=>a.reason=r),type:"text",class:"form-control",placeholder:"Enter reason"},null,8,E),[[l,a.reason]])]),s("div",M,[s("label",{for:e.isPaid,class:"form-label text-capitalize"},"isPaid",8,O),d(s("input",{id:e.isPaid,"onUpdate:modelValue":o[2]||(o[2]=r=>a.isPaid=r),type:"text",class:"form-control",placeholder:"Enter isPaid"},null,8,x),[[l,a.isPaid]])]),s("div",R,[s("label",{for:e.status,class:"form-label text-capitalize"},"status",8,$),d(s("input",{id:e.status,"onUpdate:modelValue":o[3]||(o[3]=r=>a.status=r),type:"text",class:"form-control",placeholder:"Enter status"},null,8,q),[[l,a.status]])]),s("button",{type:"submit",disable:t.action=="view",class:"btn btn-primary"},[t.action==="create"?(n(),i("span",H,"Create")):t.action==="create"?(n(),i("span",j,"Create")):(n(),i("span",G,"Update"))],8,F)],32)])]))}};export{Q as default};
