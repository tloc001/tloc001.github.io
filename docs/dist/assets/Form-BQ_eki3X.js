import{d as y,e as A,w as v,c as l,a as t,b as g,f as I,n as w,h as i,g as V,v as d,u as C,o as c}from"./index-D71806xI.js";import{f}from"./CommonsFunctions-HU9KhWMu.js";import{c as P,_ as U}from"./DashBoard-Dca6KqdS.js";const N={class:"container-fluid row"},z={class:"aside col-3"},E={class:"article col-9"},S=["for"],B=["id","hidden"],T={class:"mb-3"},k=["for"],D=["id"],x={class:"mb-3"},M=["for"],O=["id"],R={class:"mb-3"},$=["for"],q=["id"],F={class:"mb-3"},H=["for"],j=["id"],G={class:"mb-3"},J=["for"],K=["id"],L={class:"mb-3"},Q=["for"],W=["id"],X=["disable"],Y={key:0},Z={key:1},ee={key:2},ae={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(n){const m=C(),a=n,u=P(a.TableName),s=y({id:"",userId:"",action:"",description:"",ipAddress:"",userAgent:"",createdAt:"",module:""}),b=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function h(){console.log(s);try{const e=await u.update(a.id,s);console.log("Insert successful:",e.data),m.push(`/Admin/${a.TableName}`)}catch(e){console.error("Insert failed:",e)}}async function _(){console.log(s);try{const e=await u.post(s);console.log("Insert successful:",e.data),m.push(`/Admin/${a.TableName}`)}catch(e){console.error("Insert failed:",e)}}const p=async()=>{if(a.TableName)try{const e=await u.getById(a.id);e.data.createdAt=f(e.data.createdAt),e.data.updatedAt=f(e.data.updatedAt),Object.assign(s,e.data)}catch(e){console.error("Get failed:",e)}};return A(p),v(()=>a.id,p),(e,o)=>(c(),l("div",N,[t("div",z,[g(U,{listDashBoard:b})]),t("div",E,[t("form",{onSubmit:o[7]||(o[7]=I(r=>a.action==="create"?_():h(),["prevent"]))},[t("div",{class:"mb-3",style:w(a.action==="view"||a.action==="create"?" display:none;":"")},[t("label",{for:n.id,class:"form-label text-capitalize"},null,8,S),a.action!=="create"?i((c(),l("input",{key:0,id:n.id,"onUpdate:modelValue":o[0]||(o[0]=r=>s.id=r),hidden:a.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,B)),[[d,s.id]]):V("",!0)],4),t("div",T,[t("label",{for:e.userId,class:"form-label text-capitalize"},"userId",8,k),i(t("input",{id:e.userId,"onUpdate:modelValue":o[1]||(o[1]=r=>s.userId=r),type:"number",class:"form-control",placeholder:"Enter userId"},null,8,D),[[d,s.userId]])]),t("div",x,[t("label",{for:n.action,class:"form-label text-capitalize"},"action",8,M),i(t("input",{id:n.action,"onUpdate:modelValue":o[2]||(o[2]=r=>s.action=r),type:"text",class:"form-control",placeholder:"Enter action"},null,8,O),[[d,s.action]])]),t("div",R,[t("label",{for:e.description,class:"form-label text-capitalize"},"description",8,$),i(t("input",{id:e.description,"onUpdate:modelValue":o[3]||(o[3]=r=>s.description=r),type:"text",class:"form-control",placeholder:"Enter description"},null,8,q),[[d,s.description]])]),t("div",F,[t("label",{for:e.ipAddress,class:"form-label text-capitalize"},"ipAddress",8,H),i(t("input",{id:e.ipAddress,"onUpdate:modelValue":o[4]||(o[4]=r=>s.ipAddress=r),type:"text",class:"form-control",placeholder:"Enter ipAddress"},null,8,j),[[d,s.ipAddress]])]),t("div",G,[t("label",{for:e.userAgent,class:"form-label text-capitalize"},"userAgent",8,J),i(t("input",{id:e.userAgent,"onUpdate:modelValue":o[5]||(o[5]=r=>s.userAgent=r),type:"text",class:"form-control",placeholder:"Enter userAgent"},null,8,K),[[d,s.userAgent]])]),t("div",L,[t("label",{for:e.module,class:"form-label text-capitalize"},"module",8,Q),i(t("input",{id:e.module,"onUpdate:modelValue":o[6]||(o[6]=r=>s.module=r),type:"text",class:"form-control",placeholder:"Enter module"},null,8,W),[[d,s.module]])]),t("button",{type:"submit",disable:a.action=="view",class:"btn btn-primary"},[a.action==="create"?(c(),l("span",Y,"Create")):a.action==="create"?(c(),l("span",Z,"Create")):(c(),l("span",ee,"Update"))],8,X)],32)])]))}};export{ae as default};
