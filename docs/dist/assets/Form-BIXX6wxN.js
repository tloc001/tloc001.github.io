import{d as b,e as y,w as _,c as o,a,b as v,f as g,n as w,h as A,g as C,v as I,u as P,o as r}from"./index-D71806xI.js";import{f as m}from"./CommonsFunctions-HU9KhWMu.js";import{c as N,_ as S}from"./DashBoard-Dca6KqdS.js";const B={class:"container-fluid row"},T={class:"aside col-3"},V={class:"article col-9"},k=["for"],D=["id","hidden"],M=["disable"],O={key:0},x={key:1},R={key:2},F={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(n){const d=P(),t=n,c=N(t.TableName),s=b({id:"",createdAt:"",updatedAt:""}),p=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function f(){console.log(s);try{const e=await c.update(t.id,s);console.log("Insert successful:",e.data),d.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}async function h(){console.log(s);try{const e=await c.post(s);console.log("Insert successful:",e.data),d.push(`/Admin/${t.TableName}`)}catch(e){console.error("Insert failed:",e)}}const l=async()=>{if(t.TableName)try{const e=await c.getById(t.id);e.data.createdAt=m(e.data.createdAt),e.data.updatedAt=m(e.data.updatedAt),Object.assign(s,e.data)}catch(e){console.error("Get failed:",e)}};return y(l),_(()=>t.id,l),(e,i)=>(r(),o("div",B,[a("div",T,[v(S,{listDashBoard:p})]),a("div",V,[a("form",{onSubmit:i[1]||(i[1]=g(u=>t.action==="create"?h():f(),["prevent"]))},[a("div",{class:"mb-3",style:w(t.action==="view"||t.action==="create"?" display:none;":"")},[a("label",{for:n.id,class:"form-label text-capitalize"},null,8,k),t.action!=="create"?A((r(),o("input",{key:0,id:n.id,"onUpdate:modelValue":i[0]||(i[0]=u=>s.id=u),hidden:t.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,D)),[[I,s.id]]):C("",!0)],4),a("button",{type:"submit",disable:t.action=="view",class:"btn btn-primary"},[t.action==="create"?(r(),o("span",O,"Create")):t.action==="create"?(r(),o("span",x,"Create")):(r(),o("span",R,"Update"))],8,M)],32)])]))}};export{F as default};
