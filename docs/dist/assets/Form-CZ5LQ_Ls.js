import{d as v,e as y,w as D,c as l,a as t,b as g,f as w,n as V,h as i,g as A,v as d,u as C,o as n}from"./index-D71806xI.js";import{f}from"./CommonsFunctions-HU9KhWMu.js";import{c as I,_ as P}from"./DashBoard-Dca6KqdS.js";const U={class:"container-fluid row"},N={class:"aside col-3"},z={class:"article col-9"},E=["for"],S=["id","hidden"],x={class:"mb-3"},B=["for"],T=["id"],k={class:"mb-3"},M=["for"],O=["id"],R={class:"mb-3"},$=["for"],q=["id"],F={class:"mb-3"},H=["for"],j=["id"],G={class:"mb-3"},J=["for"],K=["id"],L={class:"mb-3"},Q=["for"],W=["id"],X=["disable"],Y={key:0},Z={key:1},ee={key:2},ae={__name:"Form",props:{TableName:{type:String,required:!0},action:{type:String,required:!0},id:{type:String,required:!0}},setup(c){const m=C(),a=c,u=I(a.TableName),o=v({id:"",orderDate:"",expectedDate:"",receivedDate:"",total:"",status:"",note:"",createdAt:"",updatedAt:""}),b=["Accounts","Authorities","BaseProducts","Cancels","CartItems","Catalogs","Categories","CostHistories","Coupons","News","OrderItems","Orders","PaymentMethods","PriceHistories","ProductImages","ProductItems","PromotionProduct","Promotions","PurchaseOrderItems","PurchaseOrders","Returns","Reviews","Roles","ShippingMethods","UserAddresses","VariantValues","Variants"];async function h(){console.log(o);try{const e=await u.update(a.id,o);console.log("Insert successful:",e.data),m.push(`/Admin/${a.TableName}`)}catch(e){console.error("Insert failed:",e)}}async function _(){console.log(o);try{const e=await u.post(o);console.log("Insert successful:",e.data),m.push(`/Admin/${a.TableName}`)}catch(e){console.error("Insert failed:",e)}}const p=async()=>{if(a.TableName)try{const e=await u.getById(a.id);e.data.createdAt=f(e.data.createdAt),e.data.updatedAt=f(e.data.updatedAt),Object.assign(o,e.data)}catch(e){console.error("Get failed:",e)}};return y(p),D(()=>a.id,p),(e,s)=>(n(),l("div",U,[t("div",N,[g(P,{listDashBoard:b})]),t("div",z,[t("form",{onSubmit:s[7]||(s[7]=w(r=>a.action==="create"?_():h(),["prevent"]))},[t("div",{class:"mb-3",style:V(a.action==="view"||a.action==="create"?" display:none;":"")},[t("label",{for:c.id,class:"form-label text-capitalize"},null,8,E),a.action!=="create"?i((n(),l("input",{key:0,id:c.id,"onUpdate:modelValue":s[0]||(s[0]=r=>o.id=r),hidden:a.action==="view",type:"number",class:"form-control",placeholder:"Enter id"},null,8,S)),[[d,o.id]]):A("",!0)],4),t("div",x,[t("label",{for:e.orderDate,class:"form-label text-capitalize"},"orderDate",8,B),i(t("input",{id:e.orderDate,"onUpdate:modelValue":s[1]||(s[1]=r=>o.orderDate=r),type:"datetime",class:"form-control",placeholder:"Enter orderDate"},null,8,T),[[d,o.orderDate]])]),t("div",k,[t("label",{for:e.expectedDate,class:"form-label text-capitalize"},"expectedDate",8,M),i(t("input",{id:e.expectedDate,"onUpdate:modelValue":s[2]||(s[2]=r=>o.expectedDate=r),type:"datetime",class:"form-control",placeholder:"Enter expectedDate"},null,8,O),[[d,o.expectedDate]])]),t("div",R,[t("label",{for:e.receivedDate,class:"form-label text-capitalize"},"receivedDate",8,$),i(t("input",{id:e.receivedDate,"onUpdate:modelValue":s[3]||(s[3]=r=>o.receivedDate=r),type:"datetime",class:"form-control",placeholder:"Enter receivedDate"},null,8,q),[[d,o.receivedDate]])]),t("div",F,[t("label",{for:e.total,class:"form-label text-capitalize"},"total",8,H),i(t("input",{id:e.total,"onUpdate:modelValue":s[4]||(s[4]=r=>o.total=r),type:"number",class:"form-control",placeholder:"Enter total"},null,8,j),[[d,o.total]])]),t("div",G,[t("label",{for:e.status,class:"form-label text-capitalize"},"status",8,J),i(t("input",{id:e.status,"onUpdate:modelValue":s[5]||(s[5]=r=>o.status=r),type:"text",class:"form-control",placeholder:"Enter status"},null,8,K),[[d,o.status]])]),t("div",L,[t("label",{for:e.note,class:"form-label text-capitalize"},"note",8,Q),i(t("input",{id:e.note,"onUpdate:modelValue":s[6]||(s[6]=r=>o.note=r),type:"text",class:"form-control",placeholder:"Enter note"},null,8,W),[[d,o.note]])]),t("button",{type:"submit",disable:a.action=="view",class:"btn btn-primary"},[a.action==="create"?(n(),l("span",Y,"Create")):a.action==="create"?(n(),l("span",Z,"Create")):(n(),l("span",ee,"Update"))],8,X)],32)])]))}};export{ae as default};
